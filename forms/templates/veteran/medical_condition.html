

<div class="row">
  <div class="col-xs-12">
    <div class="page-header">
      <h1>Medical Conditions</h1>
      <h5>This information will help Honor Flight serve you best on the trip by meeting all of your needs. The medical information you provide WILL NOT disqualify you from going on a flight. Information is used by Honor Flight personnel only.</h5>
    </div>
  </div>

</div>

<div class="row">
  <div class="col-xs-12">
    <div class="panel panel-default">
      <div class="panel-body ">
        <div class="row">
          <div class="form-group col-xs-4 col-sm-4">
            <label class="control-label">Condition Type</label>
            <select class="form-control"
            ng-model="contact.medicalCondition.typeId"
            required
            tabindex="6"
            ng-options="type.id as type.name for type in medicalCondition.medicalConditionTypes">
            <option value="">Select One</option>
            </select>
          </div>
          <div class="form-group col-xs-4 col-sm-4">
            <label class="control-label">Condition Name</label>
            <select class="form-control"
            ng-model="contact.medicalCondition.nameId"
            required
            tabindex="6"
            ng-options="conditionName.id as conditionName.name for conditionName in medicalCondition.medicalConditionNames |  filter: {medical_condition_type_id: contact.medicalCondition.typeId}">
            <option value="">Select One</option>
            </select>
          </div>
          <div class="form-group col-xs-4 col-sm-4">
            <label class="control-label">Date Diagnosed</label>
            <input type="text" ng-model="contact.medicalCondition.lastDate" class="form-control" placeholder="MM/YYYY" ui-mask="99/9999">
          </div>
        </div>
        <div class='row clearfix'>
          <div class="form-group col-9 col-sm-9">
            <label class="control-label">Comments</label>
            <input type="text" ng-model="contact.medicalCondition.comment" class="form-control">
          </div>
          <div class="form-group col-xs-3 col-sm-3">
            <label class="control-label">&nbsp;</label>
            <button class="btn btn-primary form-control" ng-click="contact.addMedicalCondition()">
              <i class="fa fa-plus"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-xs-12">
    <accordion close-others="true">
      <accordion-group is-open="true" ng-repeat="condition in contact.person.medicalConditions">
        <accordion-heading>
          <!-- <span class="row">
            <div class="col-xs-2 pull-right">
              <button class="pull-right btn btn-primary"><i class="fa fa-trash-o"></i></button>
            </div>
          </span> -->
          <div vertical-align="middle">{{$index + 1}}. {{medicalCondition.nameFor('medicalConditionTypes', condition.typeId).name}} -
           {{medicalCondition.nameFor('medicalConditionNames', condition.nameId).name}}<button class="pull-right btn btn-primary" ng-click="contact.deleteMedicalCondition(MedicalCondition, $index)"><i class="fa fa-trash-o"></i></button> <div class="clearfix"></div>
           </div>
        </accordion-heading>
          <div>Diagnosed: {{condition.lastDate}}</div>
          <div>Comments: {{condition.comment}}</div>
      </accordion-group>
    </accordion>
  </div>
</div>

<div class="row">
  <div class="col-xs-12 text-right">
    <button class="btn btn-primary" ng-click="contact.submitMedicalCondition('applications.thankyou')">Next</button>
  </div>
</div>
</div>
