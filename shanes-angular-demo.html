<!DOCTYPE html>
<html ng-app="sforce">

<head>
<!-- AngularJS Library -->
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.8/angular-resource.js"></script>

<script>
var BASE_URI = "../../../";

var app = angular.module("sforce", ["ngResource"]);

app.controller('MainCtrl', function($scope, $resource){
	var Contact = $resource(BASE_URI + "api/sforce/Contact", {
		"fields[]": ["FirstName", "LastName", "Phone"]
	}, {
		index: {
			method: "GET",
			isArray: true
		}
	});

	$scope.contacts = [];
	Contact.index(function(contacts){
		console.log(contacts);
		$scope.contacts = contacts;
	});
});

</script>
</head>

<body>
	<div ng-controller="MainCtrl">
		You have {{ contacts.length }} contacts.
		<ul ng-repeat="contact in contacts">
			<li>{{ contact.FirstName }} {{ contact.LastName }} - {{ contact.Phone }}</li>
		</ul>
	</div>
</body>

</html>
